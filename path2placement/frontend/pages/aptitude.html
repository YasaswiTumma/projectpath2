<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aptitude Practice - Path2Placement</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="../css/styles.css" rel="stylesheet">
</head>
<body>
    <!-- Header -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
        <div class="container">
            <a class="navbar-brand" href="../index.html">
                <i class="fas fa-graduation-cap me-2"></i>Path2Placement
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="dashboard.html">Dashboard</a>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle active" href="#" data-bs-toggle="dropdown">Practice</a>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item active" href="aptitude.html">Aptitude</a></li>
                            <li><a class="dropdown-item" href="technical.html">Technical</a></li>
                            <li><a class="dropdown-item" href="gd.html">Group Discussion</a></li>
                            <li><a class="dropdown-item" href="jam.html">Just A Minute</a></li>
                            <li><a class="dropdown-item" href="interview.html">Interview Practice</a></li>
                        </ul>
                    </li>
                </ul>
                <ul class="navbar-nav">
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" data-bs-toggle="dropdown">
                            <i class="fas fa-user-circle me-1"></i>Student Name
                        </a>
                        <ul class="dropdown-menu">
                            <li><h6 class="dropdown-header">Student Name</h6></li>
                            <li><span class="dropdown-item-text small">ID: STU001</span></li>
                            <li><span class="dropdown-item-text small">Role: Student</span></li>
                            <li><hr class="dropdown-divider"></li>
                            <li><a class="dropdown-item" href="#"><i class="fas fa-cog me-2"></i>Settings</a></li>
                            <li><a class="dropdown-item" href="login.html"><i class="fas fa-sign-out-alt me-2"></i>Logout</a></li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="container mt-4">
        <!-- Topic Selection -->
        <div id="topic-selection" class="row">
            <div class="col-12">
                <div class="card">
                    <div class="card-header bg-primary text-white">
                        <h4 class="mb-0"><i class="fas fa-brain me-2"></i>Aptitude Practice</h4>
                    </div>
                    <div class="card-body">
                        <p class="text-muted">Choose a topic to practice and improve your aptitude skills</p>

                        <div class="row g-3">
                            <div class="col-md-4">
                                <div class="card topic-card h-100" data-topic="quantitative">
                                    <div class="card-body text-center">
                                        <i class="fas fa-calculator fa-3x text-primary mb-3"></i>
                                        <h5 class="card-title">Quantitative</h5>
                                        <p class="card-text">Practice numerical problems, percentages, ratios, and more</p>
                                        <button class="btn btn-primary" onclick="selectTopic('quantitative')">
                                            Start Practice
                                        </button>
                                    </div>
                                </div>
                            </div>

                            <div class="col-md-4">
                                <div class="card topic-card h-100" data-topic="logical">
                                    <div class="card-body text-center">
                                        <i class="fas fa-puzzle-piece fa-3x text-success mb-3"></i>
                                        <h5 class="card-title">Logical Reasoning</h5>
                                        <p class="card-text">Enhance your analytical thinking and problem-solving skills</p>
                                        <button class="btn btn-success" onclick="selectTopic('logical')">
                                            Start Practice
                                        </button>
                                    </div>
                                </div>
                            </div>

                            <div class="col-md-4">
                                <div class="card topic-card h-100" data-topic="verbal">
                                    <div class="card-body text-center">
                                        <i class="fas fa-book fa-3x text-info mb-3"></i>
                                        <h5 class="card-title">Verbal Ability</h5>
                                        <p class="card-text">Improve reading comprehension and language skills</p>
                                        <button class="btn btn-info" onclick="selectTopic('verbal')">
                                            Start Practice
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Practice Interface -->
        <div id="practice-interface" class="row d-none">
            <div class="col-12">
                <div class="card">
                    <div class="card-header bg-primary text-white d-flex justify-content-between align-items-center">
                        <h4 class="mb-0" id="topic-title">Quantitative Practice</h4>
                        <div class="d-flex align-items-center">
                            <span class="me-3" id="timer">Time: 30:00</span>
                            <button class="btn btn-light btn-sm" onclick="endPractice()">
                                <i class="fas fa-times me-1"></i>End Practice
                            </button>
                        </div>
                    </div>
                    <div class="card-body">
                        <!-- Progress Bar -->
                        <div class="mb-3">
                            <div class="progress">
                                <div class="progress-bar" id="progress-bar" style="width: 0%"></div>
                            </div>
                            <small class="text-muted">Question <span id="current-question">1</span> of <span id="total-questions">10</span></small>
                        </div>

                        <!-- Question -->
                        <div class="question-section mb-4">
                            <h5 id="question-text">Loading question...</h5>
                        </div>

                        <!-- Options -->
                        <div class="options-section mb-4" id="options-container">
                            <!-- Options will be loaded here -->
                        </div>

                        <!-- Navigation -->
                        <div class="d-flex justify-content-between">
                            <button class="btn btn-secondary" id="prev-btn" onclick="previousQuestion()" disabled>
                                <i class="fas fa-arrow-left me-1"></i>Previous
                            </button>
                            <button class="btn btn-primary" id="next-btn" onclick="nextQuestion()">
                                Next<i class="fas fa-arrow-right ms-1"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Results -->
        <div id="results-section" class="row d-none">
            <div class="col-12">
                <div class="card">
                    <div class="card-header bg-success text-white">
                        <h4 class="mb-0"><i class="fas fa-trophy me-2"></i>Practice Results</h4>
                    </div>
                    <div class="card-body">
                        <div class="row text-center mb-4">
                            <div class="col-md-3">
                                <div class="result-stat">
                                    <h2 class="text-primary" id="score">0</h2>
                                    <p class="mb-0">Score</p>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="result-stat">
                                    <h2 class="text-success" id="correct-answers">0</h2>
                                    <p class="mb-0">Correct</p>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="result-stat">
                                    <h2 class="text-danger" id="wrong-answers">0</h2>
                                    <p class="mb-0">Wrong</p>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="result-stat">
                                    <h2 class="text-info" id="accuracy">0%</h2>
                                    <p class="mb-0">Accuracy</p>
                                </div>
                            </div>
                        </div>

                        <div class="text-center">
                            <button class="btn btn-primary me-2" onclick="retryPractice()">
                                <i class="fas fa-redo me-1"></i>Try Again
                            </button>
                            <button class="btn btn-secondary" onclick="backToTopics()">
                                <i class="fas fa-arrow-left me-1"></i>Back to Topics
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Custom JS -->
    <script>
        let currentTopic = '';
        let questions = [];
        let currentQuestionIndex = 0;
        let userAnswers = [];
        let timer = null;
        let timeLeft = 30 * 60; // 30 minutes in seconds

        // Sample questions for each topic
        const sampleQuestions = {
            quantitative: [
                {
                    question: "If a train travels 120 km in 2 hours, what is its speed in km/h?",
                    options: ["60", "40", "80", "100"],
                    correct: 0
                },
                {
                    question: "What is 25% of 400?",
                    options: ["100", "150", "200", "250"],
                    correct: 0
                },
                {
                    question: "If the ratio of boys to girls in a class is 3:2 and there are 30 boys, how many girls are there?",
                    options: ["20", "25", "30", "35"],
                    correct: 0
                }
            ],
            logical: [
                {
                    question: "If all roses are flowers and some flowers fade quickly, which of the following is true?",
                    options: ["All roses fade quickly", "Some roses fade quickly", "No roses fade quickly", "Cannot be determined"],
                    correct: 3
                },
                {
                    question: "Find the odd one out: Apple, Banana, Carrot, Orange",
                    options: ["Apple", "Banana", "Carrot", "Orange"],
                    correct: 2
                }
            ],
            verbal: [
                {
                    question: "Choose the synonym of 'Benevolent':",
                    options: ["Kind", "Cruel", "Angry", "Sad"],
                    correct: 0
                },
                {
                    question: "Identify the correct spelling:",
                    options: ["Recieve", "Receive", "Receeve", "Recive"],
                    correct: 1
                }
            ]
        };

        function selectTopic(topic) {
            currentTopic = topic;
            questions = [...sampleQuestions[topic]]; // Copy questions
            currentQuestionIndex = 0;
            userAnswers = new Array(questions.length).fill(null);
            timeLeft = 30 * 60;

            // Update UI
            document.getElementById('topic-selection').classList.add('d-none');
            document.getElementById('practice-interface').classList.remove('d-none');
            document.getElementById('topic-title').textContent = getTopicTitle(topic);
            document.getElementById('total-questions').textContent = questions.length;

            // Start timer
            startTimer();

            // Load first question
            loadQuestion();
        }

        function getTopicTitle(topic) {
            const titles = {
                quantitative: 'Quantitative Aptitude',
                logical: 'Logical Reasoning',
                verbal: 'Verbal Ability'
            };
            return titles[topic] || topic;
        }

        function startTimer() {
            timer = setInterval(() => {
                timeLeft--;
                updateTimer();

                if (timeLeft <= 0) {
                    endPractice();
                }
            }, 1000);
        }

        function updateTimer() {
            const minutes = Math.floor(timeLeft / 60);
            const seconds = timeLeft % 60;
            document.getElementById('timer').textContent = `Time: ${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
        }

        function loadQuestion() {
            const question = questions[currentQuestionIndex];
            document.getElementById('question-text').textContent = question.question;
            document.getElementById('current-question').textContent = currentQuestionIndex + 1;

            // Update progress bar
            const progress = ((currentQuestionIndex + 1) / questions.length) * 100;
            document.getElementById('progress-bar').style.width = progress + '%';

            // Load options
            const optionsContainer = document.getElementById('options-container');
            optionsContainer.innerHTML = '';

            question.options.forEach((option, index) => {
                const optionDiv = document.createElement('div');
                optionDiv.className = 'form-check mb-2';
                optionDiv.innerHTML = `
                    <input class="form-check-input" type="radio" name="option" id="option${index}" value="${index}">
                    <label class="form-check-label" for="option${index}">
                        ${option}
                    </label>
                `;
                optionsContainer.appendChild(optionDiv);
            });

            // Check if user has already answered this question
            const userAnswer = userAnswers[currentQuestionIndex];
            if (userAnswer !== null) {
                document.getElementById(`option${userAnswer}`).checked = true;
            }

            // Update navigation buttons
            document.getElementById('prev-btn').disabled = currentQuestionIndex === 0;
            document.getElementById('next-btn').textContent = currentQuestionIndex === questions.length - 1 ? 'Finish' : 'Next';
        }

        function nextQuestion() {
            // Save current answer
            const selectedOption = document.querySelector('input[name="option"]:checked');
            if (selectedOption) {
                userAnswers[currentQuestionIndex] = parseInt(selectedOption.value);
            }

            if (currentQuestionIndex < questions.length - 1) {
                currentQuestionIndex++;
                loadQuestion();
            } else {
                showResults();
            }
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                loadQuestion();
            }
        }

        function showResults() {
            clearInterval(timer);

            // Calculate results
            let correct = 0;
            let wrong = 0;

            questions.forEach((question, index) => {
                const userAnswer = userAnswers[index];
                if (userAnswer === question.correct) {
                    correct++;
                } else if (userAnswer !== null) {
                    wrong++;
                }
            });

            const totalAnswered = correct + wrong;
            const accuracy = totalAnswered > 0 ? Math.round((correct / totalAnswered) * 100) : 0;
            const score = correct * 10; // 10 points per correct answer

            // Update UI
            document.getElementById('practice-interface').classList.add('d-none');
            document.getElementById('results-section').classList.remove('d-none');

            document.getElementById('score').textContent = score;
            document.getElementById('correct-answers').textContent = correct;
            document.getElementById('wrong-answers').textContent = wrong;
            document.getElementById('accuracy').textContent = accuracy + '%';
        }

        function endPractice() {
            clearInterval(timer);
            showResults();
        }

        function retryPractice() {
            document.getElementById('results-section').classList.add('d-none');
            selectTopic(currentTopic);
        }

        function backToTopics() {
            clearInterval(timer);
            document.getElementById('results-section').classList.add('d-none');
            document.getElementById('topic-selection').classList.remove('d-none');
        }

        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            // Add hover effects to topic cards
            document.querySelectorAll('.topic-card').forEach(card => {
                card.addEventListener('mouseenter', function() {
                    this.style.transform = 'translateY(-5px)';
                    this.style.boxShadow = '0 4px 15px rgba(0,0,0,0.2)';
                });

                card.addEventListener('mouseleave', function() {
                    this.style.transform = 'translateY(0)';
                    this.style.boxShadow = '0 2px 5px rgba(0,0,0,0.1)';
                });
            });
        });
    </script>
</body>
</html>
